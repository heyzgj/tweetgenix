# TweetGenix 样式迁移计划

本文档提供了将 TweetGenix 项目从混合样式系统迁移到基于设计令牌的统一样式系统的详细计划。

## 一、迁移目标

1. **统一设计语言**：确保整个应用程序使用一致的颜色、间距、圆角和其他视觉元素
2. **提高可维护性**：通过使用设计令牌和组件复合类，减少样式重复和不一致
3. **简化开发流程**：为开发者提供清晰的样式指南和可复用的组件样式
4. **优化性能**：减少 CSS 体积，提高样式应用效率

## 二、迁移阶段

### 第一阶段：设计令牌统一（已完成）

✅ 更新 `globals.css` 中的设计令牌定义
✅ 添加新的设计令牌（圆角、阴影、间距等）
✅ 创建组件复合类（按钮、输入框、卡片等）
✅ 更新样式指南文档

### 第二阶段：核心组件迁移（已完成）

✅ **按钮组件**
   - 将所有按钮样式统一为 `.btn-primary`、`.btn-secondary` 或 `.btn-ghost`
   - 移除硬编码的颜色值和圆角值

✅ **输入框组件**
   - 将所有输入框和文本区域样式统一为 `.input-standard`
   - 确保焦点状态使用主题色

✅ **卡片组件**
   - 将所有卡片容器样式统一为 `.card-standard`
   - 确保边框和阴影一致

### 第三阶段：推文相关组件迁移（已完成）

✅ **推文卡片**
   - 确保推文卡片组件使用设计令牌变量
   - 确保所有文本颜色使用 `--foreground` 或 `--muted-foreground`

✅ **推文操作按钮**
   - 确保操作按钮样式使用设计令牌变量
   - 确保悬停状态样式一致

✅ **历史记录组件**
   - 更新历史记录相关组件，使用设计令牌变量
   - 确保滚动条样式使用设计令牌变量

### 第四阶段：响应式优化（进行中）

✅ **移动端优化**
   - ✅ 检查所有组件的内边距在移动端的适配
   - ✅ 调整组件之间的间距
   - ✅ 优化字体大小和行高
   - ✅ 确保点击区域足够大
   - ✅ 优化移动端的交互体验

✅ **大屏幕优化**
   - ✅ 优化大屏幕布局和内容宽度
   - ✅ 调整组件间距和尺寸
   - ✅ 优化文本和图标大小
   - ✅ 改进空白空间利用

✅ **组件响应式优化**
   - ✅ 推文卡片组件的响应式样式
   - ✅ 历史记录组件的响应式布局
   - ✅ 表单元素的响应式适配
   - ✅ 按钮和交互元素的响应式优化

✅ **性能优化**
   - ✅ 实现骨架屏加载状态
     - 添加渐变动画效果
     - 优化骨架屏尺寸和间距
     - 使用 will-change 提升性能
   - ✅ 优化动画性能
     - 使用 will-change 属性
     - 添加 transform: translateZ(0)
     - 优化动画帧率
   - ✅ 添加平滑滚动效果
     - 实现全局平滑滚动
     - 优化历史记录滚动体验
     - 添加过渡动画
   - ✅ 优化加载状态
     - 改进加载动画
     - 优化骨架屏动画
     - 添加性能优化类

### 第五阶段：测试与修复（待开始）

1. **跨浏览器测试**
   - [ ] 在主要浏览器中测试样式一致性
   - [ ] 修复任何浏览器特定的问题

2. **性能测试**
   - [ ] 检查样式应用性能
   - [ ] 优化大型组件的渲染性能

## 三、迁移指南

### 颜色替换对照表
| 硬编码值 | 设计令牌变量 |
|---------|------------|
| `#1d9bf0` | `hsl(var(--primary))` |
| `#0f1419` | `hsl(var(--foreground))` |
| `#536471` | `hsl(var(--muted-foreground))` |
| `#eff3f4` | `hsl(var(--border))` |
| `#f7f9f9` | `hsl(var(--muted))` |
| `#e8f5fd` | `hsl(var(--secondary))` |
### 响应式断点使用规范

| 断点 | 尺寸 | 主要用途 |
|------|------|---------|
| `xs` | < 640px | 移动设备基础样式 |
| `sm` | ≥ 640px | 改善移动端体验 |
| `md` | ≥ 768px | 平板设备优化 |
| `lg` | ≥ 1024px | 桌面设备优化 |
| `xl` | ≥ 1280px | 大屏幕优化 |

### 响应式属性优先级

1. 布局相关：
   - 容器宽度
   - 间距和边距
   - 网格/弹性布局

2. 尺寸相关：
   - 文本大小
   - 图标尺寸
   - 组件尺寸

3. 视觉相关：
   - 圆角
   - 阴影
   - 动画效果

## 四、代码审查清单

在提交代码审查前，请确保：

1. ✓ 所有硬编码颜色值已替换为设计令牌变量
2. ✓ 所有通用组件使用了组件复合类
3. ✓ 所有圆角值使用了 `--radius-*` 变量
4. ✓ 所有阴影使用了 `--shadow-*` 变量
5. ✓ 所有过渡效果使用了 `--transition-*` 变量
6. ✓ 响应式样式正确应用
7. ✓ 没有引入新的硬编码值

## 五、后续计划

1. **样式监控**：实施样式使用监控，确保新代码遵循设计系统
2. **组件库扩展**：根据需求扩展组件复合类
3. **主题支持**：为未来的深色模式做准备
4. **样式文档更新**：持续更新样式指南文档

## 六、联系人

如有任何样式迁移相关问题，请联系项目设计负责人或前端架构师。 